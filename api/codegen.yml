overwrite: true
emitLegacyCommonJSImports: false
verbose: true
require: 
  - ts-node/register
config:
  namingConvention: 
    typeNames: './fix-array-type.cjs'
    enumValues: 'change-case#upperCase'
    useTypeImports: true
  scalars:
    DateTime: Date
    Long: number
    JSON: string
    URL: URL
    Port: number
    UUID: string

generates:
  src/graphql/generated/client/:
    documents: './src/graphql/mothership/*.ts'
    schema: 
      'https://staging.mothership.unraid.net/ws': 
        headers:
          origin: 'https://forums.unraid.net'
    preset: client
    presetConfig:
      gqlTagName: graphql
    config: 
      useTypeImports: true
      withObjectType: true
    plugins:
      - add: { content: '/* eslint-disable */' }
# Generate Types for the API Server
  src/graphql/generated/api/types.ts:
    schema: 
      - './src/graphql/types.ts'
      - './src/graphql/schema/types/**/*.graphql'
    plugins:
      - typescript
      - typescript-resolvers
      - add: { content: '/* eslint-disable */' }
    config:
      contextType: '@app/graphql/schema/utils#Context'
      useIndexSignature: true
# Generate Operations for any built in API Server Operations (ie report.ts)
  src/graphql/generated/api/operations.ts:
    documents: './src/graphql/client/api/*.ts'
    schema: 
      - './src/graphql/types.ts'
      - './src/graphql/schema/types/**/*.graphql'
    preset: import-types
    presetConfig:
      typesPath: '@app/graphql/generated/api/types'
    plugins:
      - typescript-operations
      - typed-document-node
      - add: { content: '/* eslint-disable */' }
