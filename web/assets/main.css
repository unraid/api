@import 'tailwindcss';
@import 'tw-animate-css';
@import '../../@tailwind-shared/index.css';
@import '@nuxt/ui';

/* Scan unraid-ui package from linked directory for class usage */
@source "../../unraid-ui/dist/**/*.{js,mjs}";
@source "../../unraid-ui/src/**/*.{vue,ts}";
@source "../**/*.{vue,ts,js}";

/* Reset inherited styles from webgui for Unraid components */
.unraid-reset {
  /* Reset text and spacing properties that commonly leak from webgui */
  font-size: 1rem;
  font-weight: normal;
  text-align: left;
  text-transform: none;
  letter-spacing: normal;
  word-spacing: normal;
  
  /* Reset box model */
  margin: 0;
  padding: 0;
  border: 0;
  
  /* Ensure proper box sizing */
  box-sizing: border-box;
}

/* Apply isolation to non-modal components to prevent style leakage */
.unraid-reset:not(#teleports):not(#modals):not(unraid-modals) {
  /* Create a new stacking context for style isolation */
  isolation: isolate;
}

.unraid-reset * {
  /* Ensure all children use border-box */
  box-sizing: border-box;
}

/* Specific resets for interactive elements to restore functionality */
.unraid-reset button,
.unraid-reset input,
.unraid-reset select,
.unraid-reset textarea {
  cursor: revert;
  /* Reset button borders that leak from webgui */
  border: none;
  background: none;
  padding: 0;
  margin: 0;
  font: inherit;
  color: inherit;
  text-align: inherit;
}

.unraid-reset a {
  cursor: pointer;
  text-decoration: revert;
}

.unraid-reset [hidden] {
  display: none !important;
}

/* Ensure modals and their backdrops appear above all other content */
[role="dialog"] {
  z-index: 99999 !important;
}

/* Modal backdrop */
.fixed.inset-0[aria-hidden="true"],
[data-headlessui-portal] .fixed.inset-0 {
  z-index: 99998 !important;
}

/* Teleport container children */
#teleports > *,
#modals > *,
unraid-modals > * {
  z-index: 99999 !important;
}

/* Portal roots from HeadlessUI */
[data-headlessui-portal] {
  position: relative;
  z-index: 99999 !important;
}
